---
// ThemeToggle.astro
export const prerender = false;
---

<div class="flex justify-center my-3">
  <label class="cursor-pointer flex items-center gap-2">
    <span class="text-sm">ðŸŒž</span>
    <input id="theme-toggle" type="checkbox" class="toggle toggle-sm" />
    <span class="text-sm">ðŸŒ™</span>
  </label>
</div>

<script is:client="load">
  const html = document.documentElement;

  // âœ… í•­ìƒ ìµœì‹  ìƒíƒœë¥¼ ì°¸ì¡°í•˜ë„ë¡ ì—°ê²°
  window.addEventListener("DOMContentLoaded", () => {
    const toggle = document.getElementById("theme-toggle");

    if (!toggle) return;

    const savedTheme = localStorage.getItem("theme") || "pastel";
    html.setAttribute("data-theme", savedTheme);
    toggle.checked = savedTheme === "pastelDark";

    // âœ… ê¸°ì¡´ í•¸ë“¤ëŸ¬ ì œê±° í›„ ìž¬ì—°ê²° (ì¤‘ë³µ ë°©ì§€)
    toggle.onchange = () => {
      const newTheme = toggle.checked ? "pastelDark" : "pastel";
      html.setAttribute("data-theme", newTheme);
      localStorage.setItem("theme", newTheme);
    };
  });
</script>
